!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.parseMd=t():e.parseMd=t()}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)n.d(r,u,function(t){return e[t]}.bind(null,u));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replace=function(e,t){var n=e.source;for(var r in t)n=n.replace(new RegExp(r,"g"),t[r].source);return new RegExp(n,e.flags)},t.label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/,t.url=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|(?:\\[()]?|\([^\s\x00-\x1f()\\]*\)|[^\s\x00-\x1f()\\])*?)/,t.title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,t.urlInline=/(https?:\/\/)(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}(\.[a-z]{2,4})?\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=,\*]*)/,t.heading=/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,t.lheading=/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,t.blockquote=/^( *>[^\n]+(\n(?!^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$))[^\n]+)*)+/,t.hr=/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,t.bull=/(?:[*+-]|\d+\.)/,t.def=t.replace(/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,{label:t.label,title:t.title}),t.list=t.replace(/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,{bull:t.bull,hr:t.hr,def:t.def}),t.item=t.replace(/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/gm,{bull:t.bull}),t.paragraph=t.replace(/^((?:[^\n]+(\n(?!\s{0,3}bull))?)+)\n*/,{bull:t.bull}),t.comment=/<!--(?!-?>)[\s\S]*?-->/,t.tag=new RegExp("address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul"),t.html=t.replace(new RegExp("^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))"),{comment:t.comment,tag:t.tag,attribute:/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){return function(r,u){var l=u.match(t);return l?r(l[0],e,this.tokenizeInline(l[n])):void 0}}},function(e,t,n){e.exports=n(3)},function(e,t,n){var r=n(4).create;e.exports=function(e){return r().tokenizeBlock(e)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(5)),l=r(n(6));t.create=function(){return u.default(l.default)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.token=function(e,t,n,r){var u={type:t,len:e.length};return n&&(u.children=n),r&&Object.assign(u,r),u};var r=function(e,n,r,u){return t.token(e,n,r,u)};t.loop=function(e,t,n){for(var u=[],l=n.length,i=n,a=0;a<l;){var o=t.call(e,r,i);if(o)u.push(o),a+=o.len||0,i=i.substr(o.len);else if(!u.length)return}return u},t.first=function(e){return function(t,n){for(var r=0,u=e;r<u.length;r++){var l=u[r].call(this,t,n);if(l)return l}}};t.default=function(e){var n=e.inline,r=e.block,u={tokenizeInline:function(e){var r=t.loop(u,t.first(n),e);if(r){for(var l=[],i=null,a=0;a<r.length;a++){var o=r[a];"text"===o.type?(o.value=o.value.replace(/\.{3}/g,"…").replace(/\(C\)/gi,"©").replace(/\(R\)/gi,"®").replace(/\(TM\)/gi,"™").replace(/\(P\)/g,"§").replace(/\+\-/g,"±").replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”"),i?(i.value+=o.value,i.len+=o.len):(l.push(o),i=o)):(l.push(o),i=null)}return l}},tokenizeBlock:function(e){var n=t.loop(u,t.first(r),e);if(n){for(var l=[],i=0,a=n;i<a.length;i++){var o=a[i];"newline"!==o.type&&l.push(o)}return{type:"root",children:l,len:e.length}}},tokenizeChildBlock:function(e){var t=u.tokenizeBlock(e);return t?("root"===t.type&&(t=t.children),t||t):t}};return u}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(7)),l=r(n(8)),i=r(n(9)),a=r(n(10)),o=r(n(11)),f=r(n(12)),c=r(n(13)),s=r(n(14)),d=r(n(15)),v=r(n(16)),p=r(n(17)),h=r(n(18)),_=r(n(19)),b=r(n(20)),m=r(n(21)),g=r(n(22)),y=r(n(23)),M=r(n(24)),j=r(n(25)),k=r(n(26)),O=r(n(27)),S=r(n(28)),P=r(n(29)),$=r(n(30)),x=r(n(31)),z=r(n(32)),w=r(n(33)),I=r(n(34)),R=r(n(35)),C=r(n(36)),A=r(n(37)),B=r(n(38)),D={block:[O.default,k.default,S.default,P.default,$.default,x.default,z.default,C.default,B.default,A.default,R.default,I.default,w.default],inline:[u.default,f.default(),s.default,c.default,v.default,d.default(),p.default(),h.default,i.default(),_.default,b.default,m.default,g.default,o.default,y.default,M.default,j.default,l.default(32),a.default()]};t.default=D},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/;t.default=function(e,t){var n=t.match(r);return n?e(n[0],"text",void 0,{value:n[1]}):void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){void 0===e&&(e=32);var t=new RegExp("^::([^'\\s:]{1,"+e+"}?)::"),n=new RegExp("^:([^'\\s:]{1,"+e+"}?):");return function(e,r){var u=r.match(t)||r.match(n);return u?e(u[0],"icon",void 0,{emoji:u[1]}):void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),u=r.replace(/^!?\[(label)\]\(url(?:\s+(title))?\s*\)/,{label:r.label,url:r.url,title:r.title});t.default=function(){return function(e,t){var n=t.match(u);if(n){var r="!"===n[0][0],l=n[3];return l&&(l=l.substr(1,l.length-2)),r?e(n[0],"image",void 0,{url:n[2],alt:n[1],title:l}):e(n[0],"link",this.tokenizeInline(n[1]),{url:n[2],title:l})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),u=new RegExp("^[\\s\\S]+?(?=[\\<!\\[_*`:~\\|#@\\$\\^=\\+]| {2,}\\n|("+r.urlInline.source+")|\\\\n|\\\\`|$)");t.default=function(){return function(e,t){var n=t.match(u);if(n){var r=n[0];return e(r,"text",void 0,{value:r})}}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(1)).default("mark",/^==(?=\S)([\s\S]*?\S)==/,1);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/;t.default=function(){return function(e,t){var n=t.match(r);if(n)return e(n[0],"inlineCode",void 0,{value:n[2],wrap:n[1]})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^_([^\s][\s\S]*?[^\s_])_(?!_)|^_([^\s_][\s\S]*?[^\s])_(?!_)|^\*([^\s][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*][\s\S]*?[^\s])\*(?!\*)|^_([^\s_])_(?!_)|^\*([^\s*])\*(?!\*)/;t.default=function(e,t){var n=t.match(r);if(n){var u=n[6]||n[5]||n[4]||n[3]||n[2]||n[1];return e(n[0],"emphasis",this.tokenizeInline(u))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)|^__([^\s])__(?!_)|^\*\*([^\s])\*\*(?!\*)/;t.default=function(e,t){var n=t.match(r);if(n){var u=n[4]||n[3]||n[2]||n[1];return e(n[0],"strong",this.tokenizeInline(u))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^~~(?=\S)([\s\S]*?\S)~~/;t.default=function(){return function(e,t){var n=t.match(r);if(n)return e(n[0],"delete",this.tokenizeInline(n[1]))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^~~~([\s\S]*)~~~/;t.default=function(e,t){var n=t.match(r);return n?e(n[0],"spoiler",this.tokenizeInline(n[1])):void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^\${1,2}(?=\S)([\s\S]*?\S)\${1,2}/;t.default=function(){return function(e,t){var n=t.match(r);if(n)return e(n[0],"inlineMath",void 0,{value:n[1]})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^\[\^([a-zA-Z0-9\-_]{1,64})\]/;t.default=function(e,t){var n=t.match(r);if(n)return e(n[0],"footnoteReference",void 0,{value:n[1]})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),u=r.replace(/^!?\[(label)\]\s*(\[([^\]]*)\])?/,{label:r.label});t.default=function(e,t){var n=t.match(u);if(n){var r=n[0],l="!"===r[0],i=l?"imageReference":"linkReference",a=n[3],o="full",f=void 0;a||(a=n[1],o=n[2]?"collapsed":"shortcut");var c={identifier:a,referenceType:o};return l?c.alt=n[1]||null:f=this.tokenizeInline(n[1]),e(r,i,f,c)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),u=new RegExp("^"+r.urlInline.source);t.default=function(e,t){var n=t.match(u);if(n){var r=n[0];return e(r,"inlineLink",void 0,{value:r})}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(1)).default("sup",/^\^(?=\S)([\s\S]*?\S)\^/,1);t.default=u},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(1)).default("sub",/^~(?=\S)([\s\S]*?\S)~/,1);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^([#~@])(([\w\-_\.\/#]{1,64})|(\{([\w\-_\.\/#=\/ ]{1,64})\}))/;t.default=function(e,t){var n=t.match(r);if(n){var u=n[5]||n[2];return e(n[0],"handle",void 0,{value:u,prefix:n[1]})}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(1)).default("underline",/^\+\+(?=\S)([\s\S]*?\S)\+\+/,1);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^\s{2,}\n(?!\s*$)/,u=/^ *\\n/;t.default=function(e,t){var n=t.match(r)||t.match(u);return n?e(n[0],"break"):void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^(\s{4}[^\n]+\n*)+/;t.default=function(e,t){var n=t.match(r);if(n){var u=n[0],l={value:u.replace(/^ {4}/gm,"").replace(/\n+$/,""),lang:null};return e(u,"code",void 0,l)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^\n+/;t.default=function(e,t){var n=t.match(r);if(n)return n?e(n[0],"newline"):void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^ *(`{3,}|~{3,})([^\s]*) *([^\n]*)\n([\s\S]*?)\s*\1 *(?:\n+|$)/;t.default=function(e,t){var n=t.match(r);if(n)return e(n[0],"code",void 0,{value:n[4]||n[3],lang:n[2]||"",meta:n.length>4?n[3]:null})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^ *\$\$[ \.]*(\S+)? *\n([\s\S]*?)\s*\$\$ *(?:\n+|$)/;t.default=function(e,t){var n=t.match(r);return n?e(n[0],"math",void 0,{value:n[2]}):void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e,t){var n=t.match(r.hr);return n?e(n[0],"thematicBreak",void 0,{value:n[1]}):void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e,t){var n=t.match(r.heading);if(n){var u=n[2];return e(n[0],"heading",this.tokenizeInline(u),{depth:n[1].length})}if(n=t.match(r.lheading)){u=n[1];return e(n[0],"heading",this.tokenizeInline(u),{depth:"-"===n[2]?1:2})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e,t){var n=t.match(r.blockquote);if(n){var u=n[0],l=u.replace(/^ *> ?/gm,"");return e(u,"blockquote",this.tokenizeChildBlock(l))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e,t){var n=t.match(r.paragraph);return n?e(n[0],"paragraph",this.tokenizeInline(n[1].trim())):void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e,t){var n=t.match(r.def);if(n)return e(n[0],"definition",void 0,{identifier:n[1],title:n[3]||null,url:n[2]})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^\[\^([a-zA-Z0-9\-_]+)\]: *([^\n]*(\n?((  ([^\n]*)\n?)|\n(?!\n))*)?)/;t.default=function(e,t){var n=t.match(r);if(n){var u=n[0],l=n[1],i=n[2].replace(/^ {1,4}/gm,"");return e(u,"footnoteDefinition",this.tokenizeChildBlock(i),{identifier:l})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),u=/^(\s*)([*+-]|\d\.)(\s{1,2}|\t)/,l=/\n\n(?!\s*$)/;t.default=function(e,t){var n=t.match(r.list);if(n){var i=n[0],a=function(e){return e.match(r.item)}(i);if(a){for(var o=a.length,f=[],c=!1,s=null,d=!1,v=0;v<o;v++){var p=a[v],h=p.match(u);if(!h)return;var _=p.substr(h[0].length),b=h[2];0===v&&b.length>1&&(c=!0,s=parseInt(b,10));var m=_.replace(/^ {1,4}/gm,""),g=null;if("["===m[0]&&"]"===m[2])switch(m[1]){case"x":case"X":m=m.substr(3),g=!0;break;case" ":m=m.substr(3),g=!1}var y=l.test(_);y&&(d=!0),f.push({type:"listItem",loose:y,checked:g,children:this.tokenizeChildBlock(m)})}return e(i,"list",f,{ordered:c,start:s,loose:d})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/,u=function(e,t){var n=e.replace(/([^\\])\|/g,"$1 |").split(/ +\| */);if(void 0!==t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(var r=0;r<n.length;r++)n[r]=n[r].replace(/\\\|/g,"|");return n};t.default=function(e,t){var n=this,l=t.match(r);if(l){var i=l[0],a=l[1],o=l[2].replace(/^ *|\| *$/g,"").split(/ *\| */).map((function(e){return":"===(e=e.trim())[0]?":"===e[e.length-1]?"center":"left":":"===e[e.length-1]?"right":null})),f=l[3]?l[3].replace(/(?: *\| *)?\n$/,"").split("\n"):[],c=[],s=u(a.replace(/^ *| *\| *$/g,"")).map((function(e){return{type:"tableCell",children:n.tokenizeInline(e)}}));if(c.push({type:"tableRow",children:s}),f&&f.length)for(var d=0;d<f.length;d++){var v=f[d],p=u(v.replace(/^ *\| *| *\| *$/g,""),s.length);c.push({type:"tableRow",children:p.map((function(e){return{type:"tableCell",children:n.tokenizeInline(e)}}))})}return e(i,"table",c,{align:o})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e,t){var n=t.match(r.html);return n?e(n[0],"html",void 0,{value:n[0]}):void 0}}])}));